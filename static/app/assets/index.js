var L=Object.defineProperty;var N=(e,c,n)=>c in e?L(e,c,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[c]=n;var p=(e,c,n)=>(N(e,typeof c!="symbol"?c+"":c,n),n);import{o as a,c as r,a as s,r as O,b as q,d as E,U as I,I as M,e as $,n as x,t as h,f as S,g as Q,F as y,h as C,i,j as V,u as d,k as j}from"./vendor-6f17e660.js";const F=function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function n(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerpolicy&&(o.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?o.credentials="include":t.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(t){if(t.ep)return;t.ep=!0;const o=n(t);fetch(t.href,o)}};F();const U={class:"inline-block align-middle",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 100 100"},W=s("path",{fill:"currentColor",d:"M37.328 0c-6.874 0-12.5 5.626-12.5 12.5S30.454 25 37.328 25c1.316 0 2.586-.208 3.78-.59l6.576 13.977c-8.125 5.119-12.366 15.123-9.754 24.87a22.435 22.435 0 0 0 1.959 4.901l-17.75 11.404l-.002-.001C19.839 76.78 16.367 75 12.5 75C5.626 75 0 80.626 0 87.5S5.626 100 12.5 100S25 94.374 25 87.5c0-1.577-.308-3.084-.848-4.477L42.104 71.49c5.418 6.747 14.504 10.055 23.382 7.676c11.98-3.21 19.12-15.577 15.91-27.557a22.347 22.347 0 0 0-5.525-9.77l9.877-12.808A9.878 9.878 0 0 0 90 30c5.493 0 10-4.507 10-10s-4.507-10-10-10s-10 4.507-10 10c0 2.539.97 4.859 2.549 6.629l-9.707 12.586c-5.3-3.826-12.213-5.335-19.002-3.516c-.892.24-1.754.535-2.59.871l-6.58-13.986c3.116-2.28 5.158-5.95 5.158-10.084c0-6.874-5.626-12.5-12.5-12.5zm0 5c4.172 0 7.5 3.328 7.5 7.5c0 4.172-3.328 7.5-7.5 7.5a7.462 7.462 0 0 1-7.5-7.5c0-4.172 3.328-7.5 7.5-7.5zM90 15c2.791 0 5 2.209 5 5s-2.209 5-5 5s-5-2.209-5-5s2.209-5 5-5zM60.453 37.445c8.504.337 16.175 6.124 18.514 14.762a.6.6 0 0 1 .015.05a.6.6 0 0 1 .012.06C81.813 62.96 75.483 73.9 64.84 76.751c-10.663 2.857-21.637-3.478-24.494-14.14c-2.857-10.663 3.48-21.64 14.142-24.497a19.964 19.964 0 0 1 5.965-.67zm-.445 1.192a18.42 18.42 0 0 0-1.89.064c.36.039.614.15.136.344l-.432-.027c-.383-.102-.504-.181-.482-.237c-.846.107-1.695.268-2.541.494l-.135.04a11.17 11.17 0 0 1 1.125-.145c.254.845.87 2.384-.809 2.773c-1.348.444-1.813 3.902-3.185 1.864c-.219-1.176 1.14-4.026-1.027-2.541c-.313.872.186 2.203-.801 2.295c-.011 1.301-1.148.832-1.477.357c-.382.387.59.858.18 1.357c1.204-1.38.452 1.204 1.445 1.551c-.595.985 1.367 2.57-.459 2.526c-1.625.169.684-2.294-1.006-.961c-1.127.59-.88 1.259.067 1.199c-.603.972-1.618 1.288-2.188 1.076a16.799 16.799 0 0 0-2.629 3.791c-1.461.466-.323 3.376-1.117 3.262c-.324-.898-.408-2.466-1.295-1.998c-.259-.015-.447.146-.58.406a18.59 18.59 0 0 0 .026 2.898c.058.137.125.25.199.325c.862-1.893.385 1.095.834 1.533c1.051.936.358 3.297 2.23 3.215c.301-1.381 1.178-.438 1.278-.621c.548-.256 1.34 1.056 2.322.587c1.163-.446 1.2 2.066 2.902 1.89c2.149.043 2.66 2.77 4.944 2.513c1.501.412 5.228-.23 4.648 2.164c-1.513 1.156.407 3.961-2.26 4.027c-.509.307-.598.928-.908 1.41c2.405.328 4.913.194 7.406-.474a18.735 18.735 0 0 0 11.362-8.664c.102-1.139-.007-2.348.47-3.407c.035-1.684-1.864-2.37-1.334-4.062c-.77.309-2.436-.264-2.97 1.268c-1.004.283-1.669 1.7-2.766 1.347c-1.441-.405-3.099-.885-3.855-2.299c-.164-1.216-.93-2.626-1.11-3.746c.051-2.035 1.246-3.57 1.057-5.517c.098-.147.956-1.285.992-1.332c1.23-.697 2.459-3.301 3.818-1.385c.322.123 2.366.547 2.012-.125c-.256-1.13 2.89-1.323.967-2.375c-.184-.051-.835-.065-1.205.154c-.154.083-.652 1.057-1.54.166C69.266 45 71 47.953 69.31 46.64c1.17-.771-2.145-1.483-1.225-.8c1.466 1.443-.714.823-.69-.448c-1.678.236-.073 3.077-1.472 3.955c.01-.001.02-.007.031-.008l-.256.105l-.4.149c-.479-.283-1.588-.038-1.56-1.235c-1.013-1.012-.45-1.652.804-1.867c1.023-1.12-3.033-1.05-.701-2.117c-1.05.355-1.487.516-1.979-.766c.61 1.59-1.778 1.137-.906-.14c.354-.406-1.229-.618-.086-1.14c.79-.258 3.238 2.567 3.006.542c.497-.32-.835-1.08-.598-1.203c-1.297.832-2.377-1.546-2.638-2.475a5.48 5.48 0 0 0 1.234-.427a18.632 18.632 0 0 0-1.865-.127zm2.662 1.134a.375.375 0 0 0-.137.008c-.18.064.546.386.137-.008zm.057.563c-.325.056 1.485.72.625.082c-.362-.075-.55-.095-.625-.082zm1.533.531c-.16.044-.1.208.494.504c.313.606.062 1.005.625.233c.015-.545-.854-.809-1.12-.737zm-6.838.653c.623.011 1.087.292-.11.777c-.268.07-.574.103-.828-.037c-.241-.338-.025-.553.317-.66c.188-.06.413-.084.62-.08zm3.53.23c.078 0 .505.494.081.211c-.095-.156-.108-.211-.082-.211zm-1.243.033c.08-.064.384.403-.01.145c-.016-.087-.009-.13.01-.145zm9.967.787c-.286.114 1.193 1.843 1.178.88c1.15-.507-.507-1.16-.657-.647c-.294-.199-.455-.259-.521-.233zm-20.701.342c-.02-.01-.047-.01-.084.004c-.1.04-.266.181-.508.477c-.333.262-.817 1.457-.133.486c.552-.251.856-.89.725-.967zm-1.936 1.258c-.16.03-.37.162-.643.437c-1.029.372-.465 2.705-.472 2.557c.256-.291.362-1.001.775-1.072c.732-.28 1.03-2.055.34-1.922zm20.895.426a.1.1 0 0 0-.04.01c-.055.034.126.15.731.392c.166-.102 1.28.49.947.08c-.43-.246-1.412-.504-1.638-.482zm2.8.183c-.088.07.549.602.387.139c-.247-.133-.357-.162-.387-.139zm1.395 1.024c.239.059.475.564-.242.431c-.007-.269.058-.39.142-.425a.158.158 0 0 1 .1-.006zm-5.125.935c.23-.102.383 1.042-.23.621c.068-.415.153-.587.23-.62zm-19.346 1.582c-.143.037.08.34.28.084c-.144-.077-.232-.096-.28-.084zm-3.709.506c-.234.034.244 1.019.29.162c-.145-.127-.236-.17-.29-.162zm.283.951c-.165.087.018 1.193.094.036c-.04-.04-.07-.048-.094-.036zm13.967.887c.29-.05.36.421-.342.268c.125-.176.246-.251.342-.268zm.93.063c.127.012.01.487-.213.187c.1-.144.17-.192.213-.187zm-15.045.27c-.201.012-.4.762.13.134c-.037-.102-.084-.138-.13-.135zm18.691.868c.112.055.136.474-.164.186c.038-.11.077-.165.112-.184a.055.055 0 0 1 .052-.002zm1.565 1.096c.175-.047.505.624-.047.639c-.08-.448-.033-.618.047-.639zm-.805.639c.435-.005.782.155-.07.414l-.385.103l-.076-.013c-.234-.226-.114-.368.11-.442c.122-.04.276-.06.421-.062zm-20.15 3.627c.105-.03.552.697.054.35c-.088-.247-.09-.34-.054-.35zm-.04.693c.112-.01.33 1.015-.048.453c-.013-.33.012-.45.049-.453zm-.991.615c.11-.017.27-.018.494.002c.669.97 1.804 1.039 1.636 1.59c.83.098 2.305 1.227.366 1.064c-1.302-.158.167-1.007-1.323-1.01c-.21-.569-1.944-1.522-1.173-1.646zm1.623.22c.082 0 .26.178.257.454l-.103-.033c-.186-.245-.217-.371-.184-.408a.039.039 0 0 1 .03-.012zm18.841.643c.192-.054.277.548-.144.163c.05-.103.1-.15.144-.163zm-1.101.04c.218-.034 1.007.223.256.273c-.335-.183-.355-.258-.256-.273zm1.154.5c.168.035.06.5-.34.248c.103-.133.187-.204.252-.233a.145.145 0 0 1 .088-.015zm-.568.222c.111-.017.19.526-.11.256c.032-.181.072-.25.11-.256zm-19.016.324c.236-.013 1.076.532.264.473c-.354-.346-.371-.467-.264-.473zm31.272.25c.111-.017.188.524-.112.254c.032-.181.074-.248.112-.254zm-28.32.147c.277.049.615.533-.212.428c-.046-.262.01-.382.1-.418a.2.2 0 0 1 .111-.01zm-5.01.217c.08.401.167.804.275 1.205a18.734 18.734 0 0 0 8.492 11.256c-1.383-1.243-3.108-2.08-4.209-3.637c-1.8-1.355-1.204-3.488-1.951-5.203c-.332-.925-.16.65-.797-.467c-.741-.853-1.254-2.107-1.81-3.154zm6.632.838c.125.014.684 1.689.166.964l-.091-.275c-.111-.515-.116-.694-.075-.69zM12.5 80c4.172 0 7.5 3.328 7.5 7.5c0 4.172-3.328 7.5-7.5 7.5A7.462 7.462 0 0 1 5 87.5c0-4.172 3.328-7.5 7.5-7.5z",color:"currentColor"},null,-1),D=[W];function H(e,c){return a(),r("svg",U,D)}var P={name:"gis-earth-network-o",render:H};class m{constructor(c){p(this,"name");p(this,"messages",O([]));p(this,"numMessages",q(()=>this.messages.value.length));this.name=c}get hasMessages(){return this.messages.value.length>0}}const _={"Site 1":new m("Site 1"),"Site 2":new m("Site 2"),"Site 3":new m("Site 3"),"Site 4":new m("Site 4"),"Site 5":new m("Site 5"),"Site 6":new m("Site 6")},b={important:"fa fa-exclamation",ok:"fa fa-thumbs-up",info:"fa fa-info-circle",debug:"fa fa-cog",warning:"fa fa-exclamation",error:"fa fa-exclamation-triangle",edited:"fas fa-edit",created:"fas fa-plus",deleted:"far fa-trash-alt"},R=Object.keys(b);class T{constructor(){p(this,"counter",E({}));R.forEach(c=>{this.counter[c]=0})}increment(c){this.counter[c]++}}const A=new T,Y=new I;let g=new M("http://localhost:8000","ws://localhost:8427",!0);function G(e){console.log("MSG",typeof e,JSON.stringify(e,null,"  ")),_[e.site].messages.value.unshift(e),A.increment(e.eventClass)}function J(){const e=localStorage.getItem("wsUri");let c="ws://localhost:8427";e!==null&&(c=e),g=new M("http://localhost:8000",c,!0),console.log("Ws uri",g.websocketsUri),g.onMessage=G}async function K(){await g.get_token(),await g.connect()}const X={class:"inline-block align-middle",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 640 512"},Z=s("path",{fill:"currentColor",d:"M633.99 471.02L36 3.51C29.1-2.01 19.03-.9 13.51 6l-10 12.49C-2.02 25.39-.9 35.46 6 40.98l598 467.51c6.9 5.52 16.96 4.4 22.49-2.49l10-12.49c5.52-6.9 4.41-16.97-2.5-22.49zM163.53 368c16.71-22.03 34.48-55.8 41.4-110.58l-45.47-35.55c-3.27 90.73-36.47 120.68-54.84 140.42c-6 6.45-8.66 14.16-8.61 21.71c.11 16.4 12.98 32 32.1 32h279.66l-61.4-48H163.53zM320 96c61.86 0 112 50.14 112 112c0 .2-.06.38-.06.58c.02 16.84 1.16 31.77 2.79 45.73l59.53 46.54c-8.31-22.13-14.34-51.49-14.34-92.85c0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84c-26.02 5.41-49.45 16.94-69.13 32.72l38.17 29.84C275 103.18 296.65 96 320 96zm0 416c35.32 0 63.97-28.65 63.97-64H256.03c0 35.35 28.65 64 63.97 64z"},null,-1),e1=[Z];function c1(e,c){return a(),r("svg",X,e1)}var t1={name:"fa-regular-bell-slash",render:c1},k=(e,c)=>{const n=e.__vccOpts||e;for(const[l,t]of c)n[l]=t;return n};const s1=$({props:{eventClass:{type:String,required:!0}},setup(){return{eventIcons:b}}}),n1={class:"ml-1 capitalize"};function o1(e,c,n,l,t,o){return a(),r("span",{class:x(["mq-label",`mq-${e.eventClass}`])},[s("i",{class:x(e.eventIcons[e.eventClass])},null,2),s("span",n1,h(e.eventClass),1)],2)}var w=k(s1,[["render",o1]]);const a1=$({components:{EventBadge:w},props:{site:{type:m,required:!0}},setup(){return{eventIcons:b}}}),r1={class:"overflow-auto h-80"},i1={class:"text-2xl"},l1={key:0,class:"ml-2 text-base text-light"},u1={key:0,class:"mt-3 space-y-2"},d1={key:1,class:"mt-8 ml-5"};function m1(e,c,n,l,t,o){const u=w,v=t1;return a(),r("div",r1,[s("div",i1,[S(h(e.site.name)+" ",1),e.site.hasMessages?(a(),r("span",l1,"( "+h(e.site.numMessages)+" )",1)):Q("",!0)]),e.site.hasMessages===!0?(a(),r("div",u1,[(a(!0),r(y,null,C(e.site.messages.value,(z,B)=>(a(),r("div",{key:B},[i(u,{"event-class":z.eventClass},null,8,["event-class"]),S(" \xA0"+h(z.msg),1)]))),128))])):(a(),r("div",d1,[i(v,{class:"text-3xl text-light"})]))])}var f=k(a1,[["render",m1]]);const _1=$({components:{EventBadge:w},setup(){return{eventsQueue:A}}}),f1=s("div",{class:"flex items-center justify-center w-full p-3 bg-gray-100 border-b border-light"},"Status",-1),p1={class:"flex flex-col w-full"},h1={class:"flex-grow"},g1={class:"flex-none"};function v1(e,c,n,l,t,o){const u=w;return a(),r(y,null,[f1,s("div",p1,[(a(!0),r(y,null,C(Object.keys(e.eventsQueue.counter),(v,z)=>(a(),r("div",{key:z,class:"flex flex-row p-3 border-b"},[s("div",h1,[i(u,{"event-class":v},null,8,["event-class"])]),s("div",g1,h(e.eventsQueue.counter[v]),1)]))),128))])],64)}var z1=k(_1,[["render",v1]]);const $1={class:"flex items-center w-full h-16 bg-primary text-primary-r"},w1=S("\xA0\xA0 "),x1=s("span",{class:"text-2xl"},"Mqueue Livefeed",-1),S1={class:"flex flex-row"},y1={class:"flex-grow p-5"},b1={class:"grid grid-cols-3 gap-6"},k1={class:"flex-none w-60"},M1=$({setup(e){return V(()=>{J(),K()}),(c,n)=>{const l=P;return a(),r("div",{class:x([{dark:d(Y).isDarkMode.value==!0},"w-screen h-screen bg-background dark:bg-background-dark text-foreground dark:text-foreground-dark"])},[s("div",$1,[i(l,{class:"ml-3 text-3xl"}),w1,x1]),s("div",S1,[s("div",y1,[s("div",b1,[i(f,{site:d(_)["Site 1"]},null,8,["site"]),i(f,{site:d(_)["Site 2"]},null,8,["site"]),i(f,{site:d(_)["Site 3"]},null,8,["site"]),i(f,{site:d(_)["Site 4"]},null,8,["site"]),i(f,{site:d(_)["Site 5"]},null,8,["site"]),i(f,{site:d(_)["Site 6"]},null,8,["site"])])]),s("div",k1,[i(z1)])])],2)}}});j(M1).mount("#app");
